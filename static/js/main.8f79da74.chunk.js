(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{16:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(10),i=r.n(c),u=(r(16),r(6)),o=r(3),s=r(0);var l=function(e){var t=e.data;if(0===t.length)return Object(s.jsx)("h1",{children:"Loading..."});var r=Object.keys(t[0]),n=function(e){switch(e){case"name":return"Name";case"rotation_period":return"Rotation Period";case"orbital_period":return"Orbital Period";case"diameter":return"Diameter";case"climate":return"Climate";case"gravity":return"Gravity";case"terrain":return"Terrain";case"surface_water":return"Surface Water";case"population":return"Population";case"films":return"Films";case"created":return"Created";case"edited":return"Edited";case"url":return"URL";default:return e}},a=function(e,t){return r.filter((function(e){return"residents"!==e})).map((function(r,n){var a=!1;return"name"===r&&(a="planet-name"),Object(s.jsx)("td",{"data-testid":a,className:"trbody",children:e[r]},"td-L".concat(t,"C").concat(n))}))};return Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsx)("tr",{children:r.filter((function(e){return"residents"!==e})).map((function(e,t){return Object(s.jsx)("th",{className:"thead",children:n(e)},"th".concat(t))}))})}),Object(s.jsx)("tbody",{children:t.map((function(e,t){return Object(s.jsx)("tr",{children:a(e,t)},"tr".concat(t))}))})]})},j=Object(n.createContext)(),b=function(e){var t=e.children,r=Object(n.useState)({filterByName:{name:""},filterByNumericValues:[],order:{column:"Name",sort:"ASC"}}),a=Object(o.a)(r,2),c=a[0],i=a[1];return Object(s.jsx)(j.Provider,{value:{filters:c,setFilters:i},children:t})},d=function(){return a.a.useContext(j)},m=r(2);var f=function(){var e=d(),t=e.filters,r=e.setFilters;return Object(s.jsx)("form",{children:Object(s.jsxs)("label",{htmlFor:"name-filter",children:["Search Planet:",Object(s.jsx)("input",{type:"text",id:"name-filter","data-testid":"name-filter",onChange:function(e){var n=e.target;r(Object(m.a)(Object(m.a)({},t),{},{filterByName:{name:n.value}}))}})]})})},O=r(4);var p=function(){var e=d(),t=e.filters,r=e.setFilters,a=Object(n.useState)({order:{column:"Name",sort:"ASC"}}),c=Object(o.a)(a,2),i=c[0],u=c[1],l=function(e,t,r){r||(r=e.target.value),u({order:Object(m.a)(Object(m.a)({},i.order),{},Object(O.a)({},t,r))})};return Object(s.jsxs)("form",{children:[Object(s.jsxs)("select",{"data-testid":"column-sort",onChange:function(e){return l(e,"column",!1)},children:[Object(s.jsx)("option",{value:"Name",children:"Name"}),Object(s.jsx)("option",{value:"orbital_period",children:"Orbital Period"})]}),Object(s.jsxs)("label",{htmlFor:"ASC",children:["A \u27a1 Z",Object(s.jsx)("input",{"data-testid":"column-sort-input-asc",type:"radio",onChange:function(e){return l(e,"sort","ASC")}})]}),Object(s.jsxs)("label",{htmlFor:"DESC",children:["Z \u27a1 A",Object(s.jsx)("input",{"data-testid":"column-sort-input-desc",type:"radio",onChange:function(e){return l(e,"sort","DESC")}})]}),Object(s.jsx)("button",{"data-testid":"column-sort-button",type:"button",onClick:function(){r(Object(m.a)(Object(m.a)({},t),i))},children:"Sort"})]})};var h=function(){var e=d(),t=e.filters,r=e.setFilters,a=t.filterByNumericValues,c=Object(n.useState)(["population","orbital_period","diameter","rotation_period","surface_water"]),i=Object(o.a)(c,2),l=i[0],j=i[1],b=Object(n.useState)({column:"population",comparison:"maior que",value:"0"}),f=Object(o.a)(b,2),p=f[0],h=f[1];function x(e,t){var r=e.target.value;h(Object(m.a)(Object(m.a)({},p),{},Object(O.a)({},t,r)))}return Object(s.jsxs)("form",{children:[Object(s.jsx)("select",{onChange:function(e){return x(e,"column")},"data-testid":"column-filter",children:l.map((function(e,t){return Object(s.jsx)("option",{children:e},t)}))}),Object(s.jsxs)("select",{onChange:function(e){return x(e,"comparison")},"data-testid":"comparison-filter",children:[Object(s.jsx)("option",{children:"maior que"}),Object(s.jsx)("option",{children:"menor que"}),Object(s.jsx)("option",{children:"igual a"})]}),Object(s.jsx)("input",{onChange:function(e){return x(e,"value")},type:"number","data-testid":"value-filter"}),Object(s.jsx)("button",{type:"button","data-testid":"button-filter",onClick:function(){r(Object(m.a)(Object(m.a)({},t),{},{filterByNumericValues:[].concat(Object(u.a)(t.filterByNumericValues),[p])}));var e=l.filter((function(e){return e!==p.column}));j(e),h(Object(m.a)(Object(m.a)({},p),{},{column:e[0]}))},children:"Filter"}),a.map((function(e,n){return Object(s.jsxs)("div",{"data-testid":"filter",children:[Object(s.jsx)("span",{children:"".concat(e.column," ")}),Object(s.jsx)("span",{children:"".concat(e.comparison," ")}),Object(s.jsx)("span",{children:"".concat(e.value," ")}),Object(s.jsx)("button",{id:e.column,onClick:function(e){return function(e){var n=e.target.id;j([].concat(Object(u.a)(l),[n]));var c=a.filter((function(e){return e.column!==n}));r(Object(m.a)(Object(m.a)({},t),{},{filterByNumericValues:c}))}(e)},type:"button",children:"X"})]},n)}))]})},x=r(9),v=r.n(x),N=r(11);function y(){return(y=Object(N.a)(v.a.mark((function e(){var t,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,n=r.results,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){return y.apply(this,arguments)};var g=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),r=t[0],a=t[1],c=d().filters,i=c.filterByName.name,j=c.filterByNumericValues,b=c.order;Object(n.useEffect)((function(){C().then((function(e){return a(e)}))}),[]);var m,O=function(e){return"Name"===b.column?function(e){return"ASC"===b.sort?e.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})):e.sort((function(e,t){return e.name<t.name?1:e.name>t.name?-1:0}))}(e):function(e){return"ASC"===b.sort?e.sort((function(e,t){return Number(e.orbital_period)-Number(t.orbital_period)})):e.sort((function(e,t){return Number(t.orbital_period)-Number(e.orbital_period)}))}(e)}(function(e){if(j.length<=0)return e;var t=Object(u.a)(e);return j.forEach((function(e){var r=e.column,n=e.comparison,a=e.value;t=t.filter((function(e){var t=Number(e[r])>Number(a),c=Number(e[r])<Number(a),i=Number(e[r])===Number(a);return"maior que"===n&&t||"menor que"===n&&c||"igual a"===n&&i}))})),t}((m=r,i?m.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())})):m)));return Object(s.jsxs)("div",{children:[Object(s.jsx)(f,{}),Object(s.jsx)(p,{}),Object(s.jsx)(h,{}),Object(s.jsx)(l,{data:O})]})};var S=function(){return Object(s.jsx)(b,{children:Object(s.jsx)(g,{})})};i.a.render(Object(s.jsx)(S,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.8f79da74.chunk.js.map